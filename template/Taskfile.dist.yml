# https://taskfile.dev
version: "3"

dotenv: ['.env']

silent: true

tasks:

  stop:
    desc: Stop Devcontainer
    cmds:
      - docker compose stop

  down:
    desc: Cleanup Devcontainer including volumes
    cmds:
      - docker compose down --volumes

  cleanup:
    desc: Cleanup of almost all gitignored files and untracked files
    prompt: This could potentially delete untracked files!! Do you want to continue?
    summary: |
      Cleanup of almost all gitignored files, untracked files and development containers.

      The following files/dirs are excluded:
        - /.idea
        - /.vscode
    cmds:
      - git clean
        -xd
        --force
        --exclude .idea
        --exclude .vscode

  cleanup:all:
    desc: Cleanup of almost all gitignored files, untracked files and removal of development containers
    cmds:
      - task: down
      - task: cleanup
